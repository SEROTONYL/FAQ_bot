from __future__ import annotations

from dataclasses import dataclass

from .config import Config


@dataclass(frozen=True)
class Texts:
    welcome: str
    help: str
    demo: str
    schedule: str
    prices: str
    faq: str


def build_texts(config: Config) -> Texts:
    welcome = (
        f"–ü—Ä–∏–≤–µ—Ç! –≠—Ç–æ –±–æ—Ç —Å—Ç—É–¥–∏–∏ {config.studio_name} üé®\n"
        "–ü–æ–º–æ–≥—É –∑–∞–ø–∏—Å–∞—Ç—å—Å—è, —É–∑–Ω–∞—Ç—å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –∏ —Ü–µ–Ω—ã, –∞ —Ç–∞–∫–∂–µ –ø–æ–¥–æ–±—Ä–∞—Ç—å –∑–∞–Ω—è—Ç–∏–µ."
    )
    help_text = (
        "–Ø —É–º–µ—é –∑–∞–ø–∏—Å—ã–≤–∞—Ç—å –Ω–∞ –∑–∞–Ω—è—Ç–∏—è, –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –∏ —Ü–µ–Ω—ã, "
        "–∞ —Ç–∞–∫–∂–µ —Å–æ–±–∏—Ä–∞—Ç—å –∑–∞—è–≤–∫–∏ –Ω–∞ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã –∏ –ø–µ—Ä–µ–Ω–æ—Å—ã."
    )
    demo_text = (
        "–î–µ–º–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, –∫–∞–∫ –±—É–¥–µ—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å –±–æ—Ç —Å—Ç—É–¥–∏–∏: –º–µ–Ω—é, –±—ã—Å—Ç—Ä—ã–µ –æ—Ç–≤–µ—Ç—ã –∏ "
        "–∑–∞–ø–∏—Å—å —á–µ—Ä–µ–∑ –Ω–µ—Å–∫–æ–ª—å–∫–æ —à–∞–≥–æ–≤."
    )
    schedule = (
        "–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –Ω–∞ –Ω–µ–¥–µ–ª—é:\n"
        "‚Ä¢ –°–∫–µ—Ç—á–∏–Ω–≥: –ü–Ω/–°—Ä 19:00\n"
        "‚Ä¢ –ê–∫–≤–∞—Ä–µ–ª—å: –í—Ç/–ß—Ç 18:30\n"
        "‚Ä¢ –ö–æ–º–∏–∫—Å—ã: –ü—Ç 18:00\n"
        "‚Ä¢ –î–µ—Ç—Å–∫–∞—è –≥—Ä—É–ø–ø–∞: –°–± 12:00"
    )
    prices = (
        "–¶–µ–Ω—ã –∏ –∞–±–æ–Ω–µ–º–µ–Ω—Ç—ã:\n"
        "‚Ä¢ –ü—Ä–æ–±–Ω–æ–µ –∑–∞–Ω—è—Ç–∏–µ: 700 ‚ÇΩ\n"
        "‚Ä¢ –†–∞–∑–æ–≤–æ–µ –∑–∞–Ω—è—Ç–∏–µ: 1500 ‚ÇΩ\n"
        "‚Ä¢ –ê–±–æ–Ω–µ–º–µ–Ω—Ç 4 –∑–∞–Ω—è—Ç–∏—è: 5200 ‚ÇΩ\n"
        "‚Ä¢ –ê–±–æ–Ω–µ–º–µ–Ω—Ç 8 –∑–∞–Ω—è—Ç–∏–π: 9600 ‚ÇΩ"
    )
    faq = (
        "–ß–∞—Å—Ç—ã–µ –≤–æ–ø—Ä–æ—Å—ã:\n"
        "‚Ä¢ –ú–∞—Ç–µ—Ä–∏–∞–ª—ã –≤–∫–ª—é—á–µ–Ω—ã? –î–∞, –≤—Å–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ–º.\n"
        "‚Ä¢ –í–æ–∑—Ä–∞—Å—Ç? –í–∑—Ä–æ—Å–ª—ã–µ –≥—Ä—É–ø–ø—ã 16+, –¥–µ—Ç—Å–∫–∞—è 7-12.\n"
        "‚Ä¢ –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å? –û–±—ã—á–Ω–æ 2 —á–∞—Å–∞.\n"
        "‚Ä¢ –ù—É–∂–µ–Ω –æ–ø—ã—Ç? –ù–µ—Ç, –º–æ–∂–Ω–æ —Å –Ω—É–ª—è.\n"
        "‚Ä¢ –í–æ–∑–≤—Ä–∞—Ç? –í–æ–∑–º–æ–∂–µ–Ω –ø—Ä–∏ –æ—Ç–º–µ–Ω–µ –∑–∞ 24 —á–∞—Å–∞.\n"
        "‚Ä¢ –ö–∞–∫ –æ—Ç–º–µ–Ω–∏—Ç—å? –ù–∞–ø–∏—à–∏—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª–µ ‚Äú–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ / –æ—Ç–º–µ–Ω–∏—Ç—å –∑–∞–ø–∏—Å—å‚Äù."
    )

    return Texts(
        welcome=welcome,
        help=help_text,
        demo=demo_text,
        schedule=schedule,
        prices=prices,
        faq=faq,
    )


def address_text(config: Config) -> str:
    text = f"–ê–¥—Ä–µ—Å: {config.studio_address}"
    if config.studio_map_url:
        text += f"\n–ö–∞—Ä—Ç–∞: {config.studio_map_url}"
    return text


def contacts_text(config: Config) -> str:
    lines = [
        f"–¢–µ–ª–µ—Ñ–æ–Ω: {config.studio_phone}",
        f"–ß–∞—Å—ã: {config.studio_hours}",
    ]
    if config.studio_instagram:
        lines.append(f"Instagram: {config.studio_instagram}")
    if config.studio_telegram:
        lines.append(f"Telegram: {config.studio_telegram}")
    return "\n".join(lines)


def booking_summary(data: dict) -> str:
    return (
        "–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–∞–Ω–Ω—ã–µ:\n"
        f"–ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ: {data.get('direction')}\n"
        f"–§–æ—Ä–º–∞—Ç: {data.get('format')}\n"
        f"–°–ª–æ—Ç: {data.get('slot')}\n"
        f"–ò–º—è: {data.get('name')}\n"
        f"–ö–æ–Ω—Ç–∞–∫—Ç: {data.get('contact')}\n"
        f"–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π: {data.get('comment') or '‚Äî'}"
    )


def gift_summary(data: dict) -> str:
    return (
        "–ó–∞—è–≤–∫–∞ –Ω–∞ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç:\n"
        f"–ù–æ–º–∏–Ω–∞–ª: {data.get('amount')}\n"
        f"–ö–æ–º—É: {data.get('recipient')}\n"
        f"–ö–æ–Ω—Ç–∞–∫—Ç –ø–æ–∫—É–ø–∞—Ç–µ–ª—è: {data.get('buyer_contact')}\n"
        f"–ü–æ–∂–µ–ª–∞–Ω–∏–µ: {data.get('wish') or '‚Äî'}"
    )


def reschedule_summary(data: dict) -> str:
    return (
        "–ó–∞—è–≤–∫–∞ –Ω–∞ –ø–µ—Ä–µ–Ω–æ—Å/–æ—Ç–º–µ–Ω—É:\n"
        f"–î–µ–π—Å—Ç–≤–∏–µ: {data.get('action')}\n"
        f"–ö–æ–Ω—Ç–∞–∫—Ç: {data.get('contact')}\n"
        f"–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π: {data.get('details')}"
    )


def quiz_recommendation(data: dict) -> str:
    if data.get("audience") == "–†–µ–±—ë–Ω–æ–∫":
        return (
            "–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º –¥–µ—Ç—Å–∫—É—é –≥—Ä—É–ø–ø—É –ø–æ –≤—ã—Ö–æ–¥–Ω—ã–º ‚Äî —Ñ–æ—Ä–º–∞—Ç –º—è–≥–∫–∏–π –∏ –¥—Ä—É–∂–µ–ª—é–±–Ω—ã–π."
        )
    if data.get("level") == "–ù–æ–≤–∏—á–æ–∫":
        return (
            "–ü–æ–¥–æ–π–¥—ë—Ç –ø—Ä–æ–±–Ω–æ–µ –∑–∞–Ω—è—Ç–∏–µ –ø–æ —Å–∫–µ—Ç—á–∏–Ω–≥—É: –ø—Ä–æ—Å—Ç—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã –∏ –±—ã—Å—Ç—Ä—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç."
        )
    return (
        "–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º —Ä–µ–≥—É–ª—è—Ä–Ω—ã–µ –∑–∞–Ω—è—Ç–∏—è –ø–æ –∞–∫–≤–∞—Ä–µ–ª–∏ –∏–ª–∏ –∫–æ–º–∏–∫—Å–∞–º, —á—Ç–æ–±—ã –ø—Ä–æ–∫–∞—á–∞—Ç—å –Ω–∞–≤—ã–∫."
    )
